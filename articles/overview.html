<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Overview • GiottoClass</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GiottoClass</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/spatial_geometries.html">Spatial Geometry Objects</a></li>
    <li><a class="dropdown-item" href="../articles/image_tools.html">Images</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://drieslab.github.io/Giotto/">Suite</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/drieslab/GiottoClass/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Overview</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/drieslab/Giotto/blob/website/vignettes/overview.Rmd" class="external-link"><code>vignettes/overview.Rmd</code></a></small>
      <div class="d-none name"><code>overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="spatial-unit-and-feature-type">Spatial unit and feature type<a class="anchor" aria-label="anchor" href="#spatial-unit-and-feature-type"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drieslab.github.io/GiottoClass/">GiottoClass</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">vizmini</span> <span class="op">&lt;-</span> <span class="fu">GiottoData</span><span class="fu">::</span><span class="fu"><a href="https://drieslab.github.io/GiottoData/reference/loadGiottoMini.html" class="external-link">loadGiottoMini</a></span><span class="op">(</span><span class="st">"vizgen"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 1. read Giotto object</span></span></code></pre>
<pre><code><span><span class="co">## 2. read Giotto feature information</span></span></code></pre>
<pre><code><span><span class="co">## 3. read Giotto spatial information</span></span></code></pre>
<pre><code><span><span class="co">## 3.1 read Giotto spatial shape information</span></span></code></pre>
<pre><code><span><span class="co">## 3.2 read Giotto spatial centroid information</span></span></code></pre>
<pre><code><span><span class="co">## 3.3 read Giotto spatial overlap information</span></span></code></pre>
<pre><code><span><span class="co">## 4. read Giotto image information</span></span></code></pre>
<pre><code><span><span class="co">## checking default envname 'giotto_env'</span></span></code></pre>
<pre><code><span><span class="co">## a system default python environment was found</span></span></code></pre>
<pre><code><span><span class="co">## Using python path:</span></span>
<span><span class="co">##  "/usr/share/miniconda/envs/giotto_env/bin/python"</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vizmini</span></span></code></pre></div>
<pre><code><span><span class="co">## An object of class giotto </span></span>
<span><span class="co">## &gt;Active spat_unit:  z0 </span></span>
<span><span class="co">## &gt;Active feat_type:  rna </span></span>
<span><span class="co">## dimensions    : 337, 498 (features, cells)</span></span>
<span><span class="co">## [SUBCELLULAR INFO]</span></span>
<span><span class="co">## polygons      : z0 z1 aggregate </span></span>
<span><span class="co">## features      : rna </span></span>
<span><span class="co">## [AGGREGATE INFO]</span></span>
<span><span class="co">## expression -----------------------</span></span>
<span><span class="co">##   [z0][rna] raw</span></span>
<span><span class="co">##   [z1][rna] raw</span></span>
<span><span class="co">##   [aggregate][rna] raw normalized scaled pearson</span></span>
<span><span class="co">## spatial locations ----------------</span></span>
<span><span class="co">##   [z0] raw</span></span>
<span><span class="co">##   [z1] raw</span></span>
<span><span class="co">##   [aggregate] raw</span></span>
<span><span class="co">## spatial networks -----------------</span></span>
<span><span class="co">##   [aggregate] Delaunay_network kNN_network</span></span>
<span><span class="co">## spatial enrichments --------------</span></span>
<span><span class="co">##   [aggregate][rna] cluster_metagene</span></span>
<span><span class="co">## dim reduction --------------------</span></span>
<span><span class="co">##   [aggregate][rna] pca umap tsne</span></span>
<span><span class="co">## nearest neighbor networks --------</span></span>
<span><span class="co">##   [aggregate][rna] sNN.pca</span></span>
<span><span class="co">## attached images ------------------</span></span>
<span><span class="co">## images      : 4 items...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Use objHistory() to see steps and params used</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="show-and-list-functions">Show and list functions<a class="anchor" aria-label="anchor" href="#show-and-list-functions"></a>
</h2>
<p>Show and list functions are also provided for determining what
information exists within each of these slots and its nesting.</p>
<ul>
<li>show functions print a preview of all the data within the slot, but
do not return information</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/showGiottoSpatLocs.html">showGiottoSpatLocs</a></span><span class="op">(</span><span class="va">vizmini</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ├──Spatial unit "<span style="color: #0000BB;">z0</span>"</span></span>
<span><span class="co">## │  └──S4 spatLocsObj "<span style="color: #00BBBB;">raw</span>" coordinates:   (498 rows)</span></span>
<span><span class="co">## │        An object of class spatLocsObj </span></span>
<span><span class="co">## │        provenance: z0</span></span>
<span><span class="co">## │            ------------------------</span></span>
<span><span class="co">## │              sdimx     sdimy                                 cell_ID</span></span>
<span><span class="co">## │              &lt;num&gt;     &lt;num&gt;                                  &lt;char&gt;</span></span>
<span><span class="co">## │        1: 6405.067 -4780.499  40951783403982682273285375368232495429</span></span>
<span><span class="co">## │        2: 6426.020 -4972.519 240649020551054330404932383065726870513</span></span>
<span><span class="co">## │        3: 6428.456 -4799.158 274176126496863898679934791272921588227</span></span>
<span><span class="co">## │        4: 6408.155 -4816.583 323754550002953984063006506310071917306</span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │        ranges:</span></span>
<span><span class="co">## │                sdimx     sdimy</span></span>
<span><span class="co">## │        [1,] 6402.438 -5146.726</span></span>
<span><span class="co">## │        [2,] 6899.203 -4700.157</span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │     </span></span>
<span><span class="co">## ├──Spatial unit "<span style="color: #0000BB;">z1</span>"</span></span>
<span><span class="co">## │  └──S4 spatLocsObj "<span style="color: #00BBBB;">raw</span>" coordinates:   (504 rows)</span></span>
<span><span class="co">## │        An object of class spatLocsObj </span></span>
<span><span class="co">## │        provenance: z1</span></span>
<span><span class="co">## │            ------------------------</span></span>
<span><span class="co">## │              sdimx     sdimy                                 cell_ID</span></span>
<span><span class="co">## │              &lt;num&gt;     &lt;num&gt;                                  &lt;char&gt;</span></span>
<span><span class="co">## │        1: 6404.014 -4779.625  40951783403982682273285375368232495429</span></span>
<span><span class="co">## │        2: 6408.296 -4970.794  17685062374745280598492217386845129350</span></span>
<span><span class="co">## │        3: 6401.148 -4991.061 223553142498364321238189328942498473503</span></span>
<span><span class="co">## │        4: 6430.153 -4971.251 240649020551054330404932383065726870513</span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │        ranges:</span></span>
<span><span class="co">## │                sdimx     sdimy</span></span>
<span><span class="co">## │        [1,] 6401.148 -5147.193</span></span>
<span><span class="co">## │        [2,] 6899.323 -4700.410</span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │        </span></span>
<span><span class="co">## │     </span></span>
<span><span class="co">## └──Spatial unit "<span style="color: #0000BB;">aggregate</span>"</span></span>
<span><span class="co">##    └──S4 spatLocsObj "<span style="color: #00BBBB;">raw</span>" coordinates:   (462 rows)</span></span>
<span><span class="co">##          An object of class spatLocsObj </span></span>
<span><span class="co">##          provenance: z0 z1</span></span>
<span><span class="co">##              ------------------------</span></span>
<span><span class="co">##                sdimx     sdimy                                 cell_ID</span></span>
<span><span class="co">##                &lt;num&gt;     &lt;num&gt;                                  &lt;char&gt;</span></span>
<span><span class="co">##          1: 6637.881 -5140.465 100210519278873141813371229408401071444</span></span>
<span><span class="co">##          2: 6471.978 -4883.541 101161259912191124732236989250178928032</span></span>
<span><span class="co">##          3: 6801.610 -4968.685 101488859781016188084173008420811094152</span></span>
<span><span class="co">##          4: 6789.055 -5105.338 101523780333017320796881555775415156847</span></span>
<span><span class="co">##          </span></span>
<span><span class="co">##          ranges:</span></span>
<span><span class="co">##                  sdimx     sdimy</span></span>
<span><span class="co">##          [1,] 6401.412 -5146.747</span></span>
<span><span class="co">##          [2,] 6899.108 -4700.326</span></span>
<span><span class="co">##          </span></span>
<span><span class="co">##          </span></span>
<span><span class="co">## </span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_expression.html">list_expression</a></span><span class="op">(</span><span class="va">vizmini</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    spat_unit feat_type       name</span></span>
<span><span class="co">##       &lt;char&gt;    &lt;char&gt;     &lt;char&gt;</span></span>
<span><span class="co">## 1:        z0       rna        raw</span></span>
<span><span class="co">## 2:        z1       rna        raw</span></span>
<span><span class="co">## 3: aggregate       rna        raw</span></span>
<span><span class="co">## 4: aggregate       rna normalized</span></span>
<span><span class="co">## 5: aggregate       rna     scaled</span></span>
<span><span class="co">## 6: aggregate       rna    pearson</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find specific spat_unit objects #</span></span>
<span><span class="fu"><a href="../reference/list_expression.html">list_expression</a></span><span class="op">(</span><span class="va">vizmini</span>, spat_unit <span class="op">=</span> <span class="st">"z0"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    spat_unit feat_type   name</span></span>
<span><span class="co">##       &lt;char&gt;    &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">## 1:        z0       rna    raw</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_expression_names.html">list_expression_names</a></span><span class="op">(</span><span class="va">vizmini</span>, spat_unit <span class="op">=</span> <span class="st">"z1"</span>, feat_type <span class="op">=</span> <span class="st">"rna"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "raw"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="provenance">Provenance<a class="anchor" aria-label="anchor" href="#provenance"></a>
</h2>
<p>Going further, sometimes different sources of information can be used
when aggregating to a particular spatial unit. This is most easily shown
with the subcellular datasets from the Vizgen MERSCOPE platform which
provide both feature polygon information for multiple confocal planes
within a tissue. The aggregated information produced then could be drawn
from different z-planes or combinations thereof. Giotto tracks this
provenance information for each set of aggregated data.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expr_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getExpression.html">getExpression</a></span><span class="op">(</span><span class="va">vizmini</span>, spat_unit <span class="op">=</span> <span class="st">"aggregate"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">prov</a></span><span class="op">(</span><span class="va">expr_mat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "z0" "z1"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="giotto-subobjects">Giotto subobjects<a class="anchor" aria-label="anchor" href="#giotto-subobjects"></a>
</h2>
<p>Giotto 3.0 update introduced S4 subobjects that are used within the
giotto object and its processing. These subobjects provide more
formalized definitions for what information and formatting is needed in
each of the giotto object slots in order for it to be functional. These
objects are standalone and extensible and commonly used spatial
manipulation and plotting methods are being implemented for them.</p>
<p>In addition, these subobjects carry several pieces of metadata in
additional slots alongside the main information (e.g. also slots for
spat_unit and feat_type alongside the exprDT slot for the exprObj S4).
This makes it so that nesting information is retained when they are
taken out of the giotto object and that nesting information does not
need to be supplied anymore when interacting with the setter
functions.</p>
<p>getter functions now have an output param that defaults to extracting
the information from the giotto object as the S4 subobject. When
extracting information that will be modified and then returned to the
giotto object, it is preferred that the information is extracted as the
S4 both so that tagged information is not lost, and because it is
convenient to work with the S4’s main data slot through the [ and [&lt;-
generics.</p>
</div>
<div class="section level2">
<h2 id="constructors">Constructors<a class="anchor" aria-label="anchor" href="#constructors"></a>
</h2>
<p>For directly creating a subobject, constructor functions can be
used.</p>
<p>constructors</p>
<p>createExprObj() createCellMetaObj() createFeatMetaObj()
createDimObj() createNearestNetObj() createSpatLocsObj()
createSpatNetObj() createSpatEnrObj() createSpatialGrid()
createGiottoPoints() createGiottoPolygonsFromDfr()
createGiottoPolygonsFromMask() createGiottoImage()
createGiottoLargeImage()</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span>
<span>    sdimx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    sdimy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    cell_ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createSpatLocsObj.html">createSpatLocsObj</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"test"</span>,</span>
<span>    spat_unit <span class="op">=</span> <span class="st">"cell"</span>,</span>
<span>    coordinates <span class="op">=</span> <span class="va">coords</span>,</span>
<span>    provenance <span class="op">=</span> <span class="st">"cell"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## There are non numeric or integer columns for the spatial location</span></span>
<span><span class="co">##  input at column position(s): 3</span></span>
<span><span class="co">##  The first non-numeric column will be considered as a cell ID</span></span>
<span><span class="co">##  to test for consistency with the expression matrix</span></span>
<span><span class="co">##  Other non numeric columns will be removed</span></span></code></pre>
<p>There are non numeric or integer columns for the spatial location
input at column position(s): 3 The first non-numeric column will be
considered as a cell ID to test for consistency with the expression
matrix. Other non numeric columns will be removed</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">st</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## An object of class spatLocsObj : "test"</span></span>
<span><span class="co">## spat_unit : "cell"</span></span>
<span><span class="co">## provenance: cell </span></span>
<span><span class="co">## dimensions: 3 3 </span></span>
<span><span class="co">## preview   :</span></span>
<span><span class="co">##    sdimx sdimy cell_ID</span></span>
<span><span class="co">##    &lt;num&gt; &lt;num&gt;  &lt;char&gt;</span></span>
<span><span class="co">## 1:     1     1       A</span></span>
<span><span class="co">## 2:     2     2       B</span></span>
<span><span class="co">## 3:     3     3       C</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ranges:</span></span>
<span><span class="co">##      sdimx sdimy</span></span>
<span><span class="co">## [1,]     1     1</span></span>
<span><span class="co">## [2,]     3     3</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="readers">Readers<a class="anchor" aria-label="anchor" href="#readers"></a>
</h2>
<p>Alternatively, read functions can be used to take named nested lists
of raw data input and convert them to lists of subobjects which are
directly usable by the setter functions.</p>
<p>readers</p>
<p>readPolygonData() readFeatData() readExprData() readCellMetadata()
readFeatMetadata() readSpatLocsData() readSpatNetData()
readSpatEnrichData() readDimReducData() readNearestNetData()</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">st2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readSpatLocsData.html">readSpatLocsData</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cell2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    test1 <span class="op">=</span> <span class="va">coords</span>,</span>
<span>    test2 <span class="op">=</span> <span class="va">coords</span></span>
<span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## list depth of 2</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## List item [1]:</span></span>
<span><span class="co">##  spat_unit: cell2</span></span>
<span><span class="co">##  name: test1</span></span></code></pre>
<pre><code><span><span class="co">## There are non numeric or integer columns for the spatial location</span></span>
<span><span class="co">##  input at column position(s): 3</span></span>
<span><span class="co">##  The first non-numeric column will be considered as a cell ID</span></span>
<span><span class="co">##  to test for consistency with the expression matrix</span></span>
<span><span class="co">##  Other non numeric columns will be removed</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## List item [2]:</span></span>
<span><span class="co">##  spat_unit: cell2</span></span>
<span><span class="co">##  name: test2</span></span></code></pre>
<pre><code><span><span class="co">## There are non numeric or integer columns for the spatial location</span></span>
<span><span class="co">##  input at column position(s): 3</span></span>
<span><span class="co">##  The first non-numeric column will be considered as a cell ID</span></span>
<span><span class="co">##  to test for consistency with the expression matrix</span></span>
<span><span class="co">##  Other non numeric columns will be removed</span></span></code></pre>
<p>There are non numeric or integer columns for the spatial location
input at column position(s): 3. The first non-numeric column will be
considered as a cell ID to test for consistency with the expression
matrix. Other non numeric columns will be removed</p>
<p>There are non numeric or integer columns for the spatial location
input at column position(s): 3. The first non-numeric column will be
considered as a cell ID to test for consistency with the expression
matrix. Other non numeric columns will be removed</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">st2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## An object of class spatLocsObj : "test1"</span></span>
<span><span class="co">## spat_unit : "cell2"</span></span>
<span><span class="co">## provenance: cell2 </span></span>
<span><span class="co">## dimensions: 3 3 </span></span>
<span><span class="co">## preview   :</span></span>
<span><span class="co">##    sdimx sdimy cell_ID</span></span>
<span><span class="co">##    &lt;num&gt; &lt;num&gt;  &lt;char&gt;</span></span>
<span><span class="co">## 1:     1     1       A</span></span>
<span><span class="co">## 2:     2     2       B</span></span>
<span><span class="co">## 3:     3     3       C</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ranges:</span></span>
<span><span class="co">##      sdimx sdimy</span></span>
<span><span class="co">## [1,]     1     1</span></span>
<span><span class="co">## [2,]     3     3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## An object of class spatLocsObj : "test2"</span></span>
<span><span class="co">## spat_unit : "cell2"</span></span>
<span><span class="co">## provenance: cell2 </span></span>
<span><span class="co">## dimensions: 3 3 </span></span>
<span><span class="co">## preview   :</span></span>
<span><span class="co">##    sdimx sdimy cell_ID</span></span>
<span><span class="co">##    &lt;num&gt; &lt;num&gt;  &lt;char&gt;</span></span>
<span><span class="co">## 1:     1     1       A</span></span>
<span><span class="co">## 2:     2     2       B</span></span>
<span><span class="co">## 3:     3     3       C</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ranges:</span></span>
<span><span class="co">##      sdimx sdimy</span></span>
<span><span class="co">## [1,]     1     1</span></span>
<span><span class="co">## [2,]     3     3</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="giotto-accessors">Giotto Accessors<a class="anchor" aria-label="anchor" href="#giotto-accessors"></a>
</h2>
<p>Giotto provides getter and setter functions for manually accessing
the information contained within the giotto object. Note that the
setters require that the data be provided as compatible S4 subobjects or
lists thereof. External data can read into the appropriate formats using
the above reader functions. The getter functions return S4 subobjects by
default.</p>
<p>getters</p>
<p>getExpression() getCellMetadata() getFeatMetadata()
getSpatialLocations() getDimReduction() getNearestNetwork()
getSpatialNetwork() getPolygonInfo() getFeatureInfo()
getSpatialEnrichment() getGiottoImage()</p>
<p>setters</p>
<p>setExpression() setCellMetadata() setFeatureMetadata()
setSpatialLocations() setDimReduction() setNearestNetwork()
setSpatialNetwork() setPolygonInfo() setFeatureInfo()
setSpatialEnrichment() setGiottoImage()</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getExpression.html">getExpression</a></span><span class="op">(</span><span class="va">vizmini</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## An object of class exprObj : "raw"</span></span>
<span><span class="co">## spat_unit : "z0"</span></span>
<span><span class="co">## feat_type : "rna"</span></span>
<span><span class="co">## provenance: z0 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## contains:</span></span>
<span><span class="co">## 337 x 498 sparse Matrix of class "dgCMatrix"</span></span>
<span><span class="co">##                                         </span></span>
<span><span class="co">## Mlc1   . . . . . . . .  . . . . . ......</span></span>
<span><span class="co">## Gprc5b . . 1 . 1 . . .  1 . 2 . . ......</span></span>
<span><span class="co">## Gfap   . . . 1 1 . . . 27 . . . . ......</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  ........suppressing 485 columns and 331 rows </span></span>
<span><span class="co">##                                           </span></span>
<span><span class="co">## Adgrf4    . . . . . . . . . . . . . ......</span></span>
<span><span class="co">## Epha2     . . . . . . . . . . . . . ......</span></span>
<span><span class="co">## Blank-139 . . . . . . . . . . . . . ......</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  First four colnames:</span></span>
<span><span class="co">##  40951783403982682273285375368232495429</span></span>
<span><span class="co">##  240649020551054330404932383065726870513</span></span>
<span><span class="co">##  274176126496863898679934791272921588227</span></span>
<span><span class="co">##  323754550002953984063006506310071917306</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="get-and-set-s4-spat_unit-feat_type-provenance">Get and set S4 spat_unit, feat_type, provenance<a class="anchor" aria-label="anchor" href="#get-and-set-s4-spat_unit-feat_type-provenance"></a>
</h2>
<p>spatUnit(), featType(), and prov() are replacement functions for
tagged spatial unit, feature type, and provenance information
respectively.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># spat_unit</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">spatUnit</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"new_spat"</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">spatUnit</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "new_spat"</span></span></code></pre>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># feat_type</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">featType</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"new_feat"</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">featType</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "new_feat"</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># provenance</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">prov</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"cell"</span></span>
<span><span class="fu"><a href="../reference/giotto_schema.html">prov</a></span><span class="op">(</span><span class="va">expval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "cell"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="setting-an-s4-subobject">Setting an S4 subobject<a class="anchor" aria-label="anchor" href="#setting-an-s4-subobject"></a>
</h2>
<p>The spat_unit, feat_type, and name params no longer need to be given
when setting an S4 subobject with tagged information into a
giottoObject. However, if input is given to the set function parameters
then it is prioritized over the tagged information and the tagged
information is updated.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set exprObj to tagged nesting location</span></span>
<span><span class="va">vizmini</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setExpression.html">setExpression</a></span><span class="op">(</span><span class="va">vizmini</span>, <span class="va">expval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Setting expression [new_spat][new_feat] raw</span></span></code></pre>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_expression.html">list_expression</a></span><span class="op">(</span><span class="va">vizmini</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    spat_unit feat_type       name</span></span>
<span><span class="co">##       &lt;char&gt;    &lt;char&gt;     &lt;char&gt;</span></span>
<span><span class="co">## 1:        z0       rna        raw</span></span>
<span><span class="co">## 2:        z1       rna        raw</span></span>
<span><span class="co">## 3: aggregate       rna        raw</span></span>
<span><span class="co">## 4: aggregate       rna normalized</span></span>
<span><span class="co">## 5: aggregate       rna     scaled</span></span>
<span><span class="co">## 6: aggregate       rna    pearson</span></span>
<span><span class="co">## 7:  new_spat  new_feat        raw</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="working-with-s4-subobjects">Working with S4 subobjects<a class="anchor" aria-label="anchor" href="#working-with-s4-subobjects"></a>
</h2>
<p>Giotto’s S4 subobjects each wrap one main data object. The empty []
and []&lt;- operators are defined as shorthand for directly accessing
this slot that contains the data. For example, with a spatLocsObj:</p>
<p>class(spatLocsObj[]) is equivalent to class(<a href="mailto:spatLocsObj@coordinates" class="email">spatLocsObj@coordinates</a>)</p>
<p>In this way, the S4 subobjects can be used in contexts that the
wrapped objects could be.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getSpatialLocations.html">getSpatialLocations</a></span><span class="op">(</span><span class="va">vizmini</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">st</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "spatLocsObj"</span></span>
<span><span class="co">## attr(,"package")</span></span>
<span><span class="co">## [1] "GiottoClass"</span></span></code></pre>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># With empty brackets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">st</span><span class="op">[</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "data.table" "data.frame"</span></span></code></pre>
<div class="section level3">
<h3 id="setting-information">Setting information<a class="anchor" aria-label="anchor" href="#setting-information"></a>
</h3>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">st</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## An object of class spatLocsObj : "raw"</span></span>
<span><span class="co">## spat_unit : "z0"</span></span>
<span><span class="co">## provenance: z0 </span></span>
<span><span class="co">## dimensions: 498 3 </span></span>
<span><span class="co">## preview   :</span></span>
<span><span class="co">##       sdimx     sdimy                                 cell_ID</span></span>
<span><span class="co">##       &lt;num&gt;     &lt;num&gt;                                  &lt;char&gt;</span></span>
<span><span class="co">## 1: 6405.067 -4780.499  40951783403982682273285375368232495429</span></span>
<span><span class="co">## 2: 6426.020 -4972.519 240649020551054330404932383065726870513</span></span>
<span><span class="co">## 3: 6428.456 -4799.158 274176126496863898679934791272921588227</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ranges:</span></span>
<span><span class="co">##         sdimx     sdimy</span></span>
<span><span class="co">## [1,] 6402.438 -5146.726</span></span>
<span><span class="co">## [2,] 6899.203 -4700.157</span></span></code></pre>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">st</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">coords</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">st</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## An object of class spatLocsObj : "raw"</span></span>
<span><span class="co">## spat_unit : "z0"</span></span>
<span><span class="co">## provenance: z0 </span></span>
<span><span class="co">## dimensions: 3 3 </span></span>
<span><span class="co">## preview   :</span></span>
<span><span class="co">##    sdimx sdimy cell_ID</span></span>
<span><span class="co">##    &lt;num&gt; &lt;num&gt;  &lt;char&gt;</span></span>
<span><span class="co">## 1:     1     1       A</span></span>
<span><span class="co">## 2:     2     2       B</span></span>
<span><span class="co">## 3:     3     3       C</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ranges:</span></span>
<span><span class="co">##      sdimx sdimy</span></span>
<span><span class="co">## [1,]     1     1</span></span>
<span><span class="co">## [2,]     3     3</span></span></code></pre>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.5.0 (2025-04-11)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 24.04.2 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] GiottoClass_0.4.7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] rappdirs_0.3.3              sass_0.4.10                </span></span>
<span><span class="co">##  [3] generics_0.1.4              SparseArray_1.8.0          </span></span>
<span><span class="co">##  [5] gtools_3.9.5                lattice_0.22-6             </span></span>
<span><span class="co">##  [7] digest_0.6.37               magrittr_2.0.3             </span></span>
<span><span class="co">##  [9] evaluate_1.0.3              grid_4.5.0                 </span></span>
<span><span class="co">## [11] fastmap_1.2.0               jsonlite_2.0.0             </span></span>
<span><span class="co">## [13] Matrix_1.7-3                backports_1.5.0            </span></span>
<span><span class="co">## [15] GenomeInfoDb_1.44.0         GiottoData_0.2.16          </span></span>
<span><span class="co">## [17] httr_1.4.7                  SingleCellExperiment_1.30.1</span></span>
<span><span class="co">## [19] UCSC.utils_1.4.0            codetools_0.2-20           </span></span>
<span><span class="co">## [21] textshaping_1.0.1           jquerylib_0.1.4            </span></span>
<span><span class="co">## [23] abind_1.4-8                 cli_3.6.5                  </span></span>
<span><span class="co">## [25] rlang_1.1.6                 crayon_1.5.3               </span></span>
<span><span class="co">## [27] XVector_0.48.0              Biobase_2.68.0             </span></span>
<span><span class="co">## [29] withr_3.0.2                 cachem_1.1.0               </span></span>
<span><span class="co">## [31] DelayedArray_0.34.1         yaml_2.3.10                </span></span>
<span><span class="co">## [33] S4Arrays_1.8.0              tools_4.5.0                </span></span>
<span><span class="co">## [35] GiottoUtils_0.2.4           checkmate_2.3.2            </span></span>
<span><span class="co">## [37] SpatialExperiment_1.18.0    GenomeInfoDbData_1.2.14    </span></span>
<span><span class="co">## [39] SummarizedExperiment_1.38.1 BiocGenerics_0.54.0        </span></span>
<span><span class="co">## [41] reticulate_1.42.0           png_0.1-8                  </span></span>
<span><span class="co">## [43] R6_2.6.1                    magick_2.8.6               </span></span>
<span><span class="co">## [45] matrixStats_1.5.0           stats4_4.5.0               </span></span>
<span><span class="co">## [47] lifecycle_1.0.4             S4Vectors_0.46.0           </span></span>
<span><span class="co">## [49] fs_1.6.6                    htmlwidgets_1.6.4          </span></span>
<span><span class="co">## [51] IRanges_2.42.0              ragg_1.4.0                 </span></span>
<span><span class="co">## [53] pkgconfig_2.0.3             desc_1.4.3                 </span></span>
<span><span class="co">## [55] pkgdown_2.1.2               terra_1.8-50               </span></span>
<span><span class="co">## [57] bslib_0.9.0                 glue_1.8.0                 </span></span>
<span><span class="co">## [59] data.table_1.17.0           Rcpp_1.0.14                </span></span>
<span><span class="co">## [61] systemfonts_1.2.3           xfun_0.52                  </span></span>
<span><span class="co">## [63] GenomicRanges_1.60.0        MatrixGenerics_1.20.0      </span></span>
<span><span class="co">## [65] knitr_1.50                  rjson_0.2.23               </span></span>
<span><span class="co">## [67] igraph_2.1.4                htmltools_0.5.8.1          </span></span>
<span><span class="co">## [69] rmarkdown_2.29              compiler_4.5.0</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.drieslab.com" class="external-link">Ruben Dries</a>, <a href="https://github.com/jiajic" class="external-link">Jiaji George Chen</a>, <a href="https://labs.icahn.mssm.edu/yuanlab/" class="external-link">Guo-Cheng Yuan</a>, Matthew O’Brien, <a href="https://josschavezf.github.io" class="external-link">Joselyn C. Chávez-Fuentes</a>, Edward Ruiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
