<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a giotto object — createGiottoObject • GiottoClass</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a giotto object — createGiottoObject"><meta name="description" content="Function to create a giotto object"><meta property="og:description" content="Function to create a giotto object"><meta property="og:image" content="https://drieslab.github.io/GiottoClass/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GiottoClass</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/spatial_geometries.html">Spatial Geometry Objects</a></li>
    <li><a class="dropdown-item" href="../articles/image_tools.html">Images</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://drieslab.github.io/Giotto/">Suite</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/drieslab/GiottoClass/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a giotto object</h1>
      <small class="dont-index">Source: <a href="https://github.com/drieslab/Giotto/blob/website/R/create.R" class="external-link"><code>R/create.R</code></a></small>
      <div class="d-none name"><code>createGiottoObject.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function to create a giotto object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createGiottoObject</span><span class="op">(</span></span>
<span>  <span class="va">expression</span>,</span>
<span>  expression_feat <span class="op">=</span> <span class="st">"rna"</span>,</span>
<span>  spatial_locs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial_info <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  calc_poly_centroids <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  centroids_to_spatlocs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  feat_info <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cell_metadata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  feat_metadata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial_network <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial_grid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial_grid_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial_enrichment <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dimension_reduction <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nn_network <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  images <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  largeImages <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  offset_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  instructions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cores <span class="op">=</span> <span class="fu">determine_cores</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  raw_exprs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expression_matrix_class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dgCMatrix"</span>, <span class="st">"DelayedArray"</span><span class="op">)</span>,</span>
<span>  h5_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-expression">expression<a class="anchor" aria-label="anchor" href="#arg-expression"></a></dt>
<dd><p>expression information</p></dd>


<dt id="arg-expression-feat">expression_feat<a class="anchor" aria-label="anchor" href="#arg-expression-feat"></a></dt>
<dd><p>available features (e.g. rna, protein, ...)</p></dd>


<dt id="arg-spatial-locs">spatial_locs<a class="anchor" aria-label="anchor" href="#arg-spatial-locs"></a></dt>
<dd><p>data.table or data.frame with coordinates for cell
centroids</p></dd>


<dt id="arg-spatial-info">spatial_info<a class="anchor" aria-label="anchor" href="#arg-spatial-info"></a></dt>
<dd><p>list of giotto polygon objects with spatial information,
see <code><a href="createGiottoPolygon.html">createGiottoPolygonsFromMask</a></code>
and <code><a href="createGiottoPolygon.html">createGiottoPolygonsFromDfr</a></code></p></dd>


<dt id="arg-calc-poly-centroids">calc_poly_centroids<a class="anchor" aria-label="anchor" href="#arg-calc-poly-centroids"></a></dt>
<dd><p>if spatial_info is provided, whether to also
calculate centroids</p></dd>


<dt id="arg-centroids-to-spatlocs">centroids_to_spatlocs<a class="anchor" aria-label="anchor" href="#arg-centroids-to-spatlocs"></a></dt>
<dd><p>if spatial_info is provided, whether to also
convert centroids to spatial locations</p></dd>


<dt id="arg-feat-info">feat_info<a class="anchor" aria-label="anchor" href="#arg-feat-info"></a></dt>
<dd><p>list of giotto point objects with feature info,
see <code><a href="createGiottoPoints.html">createGiottoPoints</a></code></p></dd>


<dt id="arg-cell-metadata">cell_metadata<a class="anchor" aria-label="anchor" href="#arg-cell-metadata"></a></dt>
<dd><p>cell annotation metadata</p></dd>


<dt id="arg-feat-metadata">feat_metadata<a class="anchor" aria-label="anchor" href="#arg-feat-metadata"></a></dt>
<dd><p>feature annotation metadata for each unique feature</p></dd>


<dt id="arg-spatial-network">spatial_network<a class="anchor" aria-label="anchor" href="#arg-spatial-network"></a></dt>
<dd><p>list of spatial network(s)</p></dd>


<dt id="arg-spatial-grid">spatial_grid<a class="anchor" aria-label="anchor" href="#arg-spatial-grid"></a></dt>
<dd><p>list of spatial grid(s)</p></dd>


<dt id="arg-spatial-grid-name">spatial_grid_name<a class="anchor" aria-label="anchor" href="#arg-spatial-grid-name"></a></dt>
<dd><p>list of spatial grid name(s)</p></dd>


<dt id="arg-spatial-enrichment">spatial_enrichment<a class="anchor" aria-label="anchor" href="#arg-spatial-enrichment"></a></dt>
<dd><p>list of spatial enrichment score(s) for each
spatial region</p></dd>


<dt id="arg-dimension-reduction">dimension_reduction<a class="anchor" aria-label="anchor" href="#arg-dimension-reduction"></a></dt>
<dd><p>list of dimension reduction(s)</p></dd>


<dt id="arg-nn-network">nn_network<a class="anchor" aria-label="anchor" href="#arg-nn-network"></a></dt>
<dd><p>list of nearest neighbor network(s)</p></dd>


<dt id="arg-images">images<a class="anchor" aria-label="anchor" href="#arg-images"></a></dt>
<dd><p>list of images</p></dd>


<dt id="arg-largeimages">largeImages<a class="anchor" aria-label="anchor" href="#arg-largeimages"></a></dt>
<dd><p>deprecated</p></dd>


<dt id="arg-offset-file">offset_file<a class="anchor" aria-label="anchor" href="#arg-offset-file"></a></dt>
<dd><p>file used to stitch fields together (optional)</p></dd>


<dt id="arg-instructions">instructions<a class="anchor" aria-label="anchor" href="#arg-instructions"></a></dt>
<dd><p>list of instructions or output result
from <code><a href="giotto_instructions.html">createGiottoInstructions</a></code></p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>how many cores or threads to use to read data if paths are
provided</p></dd>


<dt id="arg-raw-exprs">raw_exprs<a class="anchor" aria-label="anchor" href="#arg-raw-exprs"></a></dt>
<dd><p>deprecated, use expression</p></dd>


<dt id="arg-expression-matrix-class">expression_matrix_class<a class="anchor" aria-label="anchor" href="#arg-expression-matrix-class"></a></dt>
<dd><p>class of expression matrix to
use (e.g. 'dgCMatrix', 'DelayedArray')</p></dd>


<dt id="arg-h-file">h5_file<a class="anchor" aria-label="anchor" href="#arg-h-file"></a></dt>
<dd><p>path to h5 file</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>be verbose when building Giotto object</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>giotto object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See <a href="http://giottosuite.com/articles/getting_started_gobject.html" class="external-link">http://giottosuite.com/articles/getting_started_gobject.html</a> for
more details</p>
<p>[<strong>Requirements</strong>] To create a giotto object you need to provide at least
a matrix with genes as row names and cells as column names. This matrix can
be provided as a base matrix, sparse Matrix, data.frame, data.table or as a
path to any of those. To include spatial information about
cells (or regions) you need to provide a matrix, data.table or
data.frame (or path to them) with coordinates for all spatial dimensions.
This can be 2D (x and y) or 3D (x, y, x).
The row order for the cell coordinates should be the same as the column
order for the provided expression data.</p>
<p>[<strong>Instructions</strong>] Additionally an instruction file, generated manually or
with <code><a href="giotto_instructions.html">createGiottoInstructions</a></code> can be provided to instructions,
if not a default instruction file will be created for the Giotto object.</p>
<p>[<strong>Multiple fields</strong>] In case a dataset consists of multiple fields, like
seqFISH+ for example, an offset file can be provided to stitch the different
fields together. <code><a href="stitchFieldCoordinates.html">stitchFieldCoordinates</a></code> can be used to
generate such an offset file.</p>
<p>[<strong>Processed data</strong>] Processed count data, such as normalized data, can
be provided using one of the different expression
slots (norm_expr, norm_scaled_expr, custom_expr).</p>
<p>[<strong>Metadata</strong>] Cell and gene metadata can be provided using the cell and
gene metadata slots. This data can also be added afterwards using
the <code><a href="addFeatMetadata.html">addFeatMetadata</a></code> or <code><a href="addCellMetadata.html">addCellMetadata</a></code> functions.</p>
<p>[<strong>Other information</strong>] Additional information can be provided through
the appropriate slots:</p><ul><li><p>spatial networks</p></li>
<li><p>spatial grids</p></li>
<li><p>spatial enrichments</p></li>
<li><p>dimensions reduction</p></li>
<li><p>nearest neighbours networks</p></li>
<li><p>images</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">expr_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/toy_matrix.RDS"</span>,</span></span>
<span class="r-in"><span>    package <span class="op">=</span> <span class="st">"GiottoClass"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">createGiottoObject</span><span class="op">(</span>expression <span class="op">=</span> <span class="va">expr_matrix</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> python already initialized in this session</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  active environment : 'giotto_env'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  python version : 3.10</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> checking default envname 'giotto_env'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> a system default python environment was found</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using python path:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  "/usr/share/miniconda/envs/giotto_env/bin/python"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There are non numeric or integer columns for the spatial location</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  input at column position(s): 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  The first non-numeric column will be considered as a cell ID</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  to test for consistency with the expression matrix</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  Other non numeric columns will be removed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class giotto </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;Active spat_unit:  cell </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;Active feat_type:  rna </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimensions    : 10, 10 (features, cells)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [SUBCELLULAR INFO]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [AGGREGATE INFO]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> expression -----------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [cell][rna] raw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> spatial locations ----------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [cell] raw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use objHistory() to see steps and params used</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.drieslab.com" class="external-link">Ruben Dries</a>, <a href="https://github.com/jiajic" class="external-link">Jiaji George Chen</a>, <a href="https://labs.icahn.mssm.edu/yuanlab/" class="external-link">Guo-Cheng Yuan</a>, Matthew O’Brien, <a href="https://josschavezf.github.io" class="external-link">Joselyn C. Chávez-Fuentes</a>, Edward Ruiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

