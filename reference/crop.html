<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Crop to a spatial subset — crop • GiottoClass</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Crop to a spatial subset — crop"><meta name="description" content="Spatially subset an object x using object y. Giotto spatial
subobjects respond to terra::crop. For giottoPoints and giottoPolygon,
an alternative faster crop operation is implemented through data.table
manipulation of the geometry information and are used by default. This mode
also only allows rectangular subsetting. Additionally, giottoPolygons will
be cropped using their centroids so that the entire polygon is either present
or not instead of the default crop behavior that would keep the portion of
the polygon that does fall within the selected crop region.
Set DT = FALSE in order to use the default style of terra::crop behavior
that also allows usage of additional params through ..."><meta property="og:description" content="Spatially subset an object x using object y. Giotto spatial
subobjects respond to terra::crop. For giottoPoints and giottoPolygon,
an alternative faster crop operation is implemented through data.table
manipulation of the geometry information and are used by default. This mode
also only allows rectangular subsetting. Additionally, giottoPolygons will
be cropped using their centroids so that the entire polygon is either present
or not instead of the default crop behavior that would keep the portion of
the polygon that does fall within the selected crop region.
Set DT = FALSE in order to use the default style of terra::crop behavior
that also allows usage of additional params through ..."><meta property="og:image" content="https://drieslab.github.io/GiottoClass/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GiottoClass</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/spatial_geometries.html">Spatial Geometry Objects</a></li>
    <li><a class="dropdown-item" href="../articles/image_tools.html">Images</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://drieslab.github.io/Giotto/">Suite</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/drieslab/GiottoClass/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Crop to a spatial subset</h1>
      <small class="dont-index">Source: <a href="https://github.com/drieslab/Giotto/blob/website/R/methods-crop.R" class="external-link"><code>R/methods-crop.R</code></a></small>
      <div class="d-none name"><code>crop.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Spatially subset an object x using object y. Giotto spatial
subobjects respond to <a href="https://rspatial.github.io/terra/reference/crop.html" class="external-link">terra::crop</a>. For <code>giottoPoints</code> and <code>giottoPolygon</code>,
an alternative faster crop operation is implemented through <code>data.table</code>
manipulation of the geometry information and are used by default. This mode
also only allows rectangular subsetting. Additionally, <code>giottoPolygons</code> will
be cropped using their centroids so that the entire polygon is either present
or not instead of the default <code>crop</code> behavior that would keep the portion of
the polygon that does fall within the selected crop region.
Set <code>DT = FALSE</code> in order to use the default style of terra::crop behavior
that also allows usage of additional params through ...</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'giottoLargeImage'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'giottoAffineImage'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'spatLocsObj'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'spatialNetworkObj'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'giottoPoints'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, DT <span class="op">=</span> <span class="cn">TRUE</span>, xmin <span class="op">=</span> <span class="cn">NULL</span>, xmax <span class="op">=</span> <span class="cn">NULL</span>, ymin <span class="op">=</span> <span class="cn">NULL</span>, ymax <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'giottoPolygon'</span></span>
<span><span class="fu">crop</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, DT <span class="op">=</span> <span class="cn">TRUE</span>, xmin <span class="op">=</span> <span class="cn">NULL</span>, xmax <span class="op">=</span> <span class="cn">NULL</span>, ymin <span class="op">=</span> <span class="cn">NULL</span>, ymax <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>object</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>any object that has a SpatExtent or returns a SpatExtent</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional params to pass to terra::crop</p></dd>


<dt id="arg-dt">DT<a class="anchor" aria-label="anchor" href="#arg-dt"></a></dt>
<dd><p>logical. Use alternative DT subsetting for crop operation</p></dd>


<dt id="arg-xmin-xmax-ymin-ymax">xmin, xmax, ymin, ymax<a class="anchor" aria-label="anchor" href="#arg-xmin-xmax-ymin-ymax"></a></dt>
<dd><p>only used if DT = TRUE. Set extent bounds
independently</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>SpatRaster</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">GiottoData</span><span class="fu">::</span><span class="fu"><a href="https://drieslab.github.io/GiottoData/reference/loadGiottoMini.html" class="external-link">loadGiottoMini</a></span><span class="op">(</span><span class="st">"visium"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1. read Giotto object</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2. read Giotto feature information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3. read Giotto spatial information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3.1 read Giotto spatial shape information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3.2 read Giotto spatial centroid information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3.3 read Giotto spatial overlap information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 4. read Giotto image information</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> python already initialized in this session</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  active environment : 'giotto_env'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  python version : 3.10</span>
<span class="r-in"><span><span class="va">g_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="getGiottoImage.html">getGiottoImage</a></span><span class="op">(</span><span class="va">g</span>, image_type <span class="op">=</span> <span class="st">"largeImage"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crop</span><span class="op">(</span><span class="va">g_image</span>, <span class="va">g_image</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class giottoLargeImage : "alignment"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Image extent            : 2364.5, 6522.5, -5425.25, -2620.75 (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Original image extent   : 2364.5, 6522.5, -5425.25, -2620.75 (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Scale factor            : 13.2420382165605, 13.2287735849057 (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Resolution              : 0.0755170755170755, 0.0755927972900695 (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Layers                  : 4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name                    : deg_image_1 deg_image_2 deg_image_3 deg_image_4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimated max intensity : 174 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimated min intensity : 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Values                  : integers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> File path               : '/home/runner/work/_temp/Library/GiottoData/Mini_datasets/Visium/VisiumObject/Images/alignment_spatRaster'</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.drieslab.com" class="external-link">Ruben Dries</a>, <a href="https://github.com/jiajic" class="external-link">Jiaji George Chen</a>, <a href="https://labs.icahn.mssm.edu/yuanlab/" class="external-link">Guo-Cheng Yuan</a>, Matthew O’Brien, <a href="https://josschavezf.github.io" class="external-link">Joselyn C. Chávez-Fuentes</a>, Edward Ruiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

